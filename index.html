<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta property="og:type" content="Secret" />
    <meta property="og:title" content="Your Secret" />
    <meta property="og:description" content="Secret! Push the link!" />
    <meta
      property="og:image"
      content="https://i0.wp.com/picjumbo.com/wp-content/uploads/colorful-love-hearts-wallpaper-free-image.jpg?w=2210&quality=70"
    />
    <title>Will You Be My Valentine? üíï</title>
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Pacifico&family=Poppins:wght@300;400;600&display=swap"
      rel="stylesheet"
    />
    <style>
      * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
      }

      body {
        font-family: "Poppins", sans-serif;
        background:
          radial-gradient(
            circle at 20% 50%,
            rgba(255, 192, 203, 0.3) 0%,
            transparent 50%
          ),
          radial-gradient(
            circle at 80% 80%,
            rgba(255, 182, 193, 0.3) 0%,
            transparent 50%
          ),
          radial-gradient(
            circle at 40% 20%,
            rgba(255, 105, 180, 0.2) 0%,
            transparent 50%
          ),
          linear-gradient(135deg, #ffecd2 0%, #fcb69f 50%, #ff9a9e 100%);
        min-height: 100vh;
        display: flex;
        justify-content: center;
        align-items: center;
        overflow: hidden;
        position: relative;
      }

      body::before {
        content: "";
        position: absolute;
        width: 100%;
        height: 100%;
        background-image:
          radial-gradient(
            circle,
            rgba(255, 255, 255, 0.1) 1px,
            transparent 1px
          ),
          radial-gradient(circle, rgba(255, 255, 255, 0.1) 1px, transparent 1px);
        background-size:
          50px 50px,
          80px 80px;
        background-position:
          0 0,
          40px 40px;
        animation: twinkle 3s ease-in-out infinite;
        opacity: 0.5;
      }

      @keyframes twinkle {
        0%,
        100% {
          opacity: 0.3;
        }
        50% {
          opacity: 0.7;
        }
      }

      .container {
        text-align: center;
        background: rgba(255, 255, 255, 0.95);
        padding: 3rem 2rem;
        border-radius: 30px;
        box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);
        max-width: 500px;
        width: 90%;
        position: relative;
        z-index: 1;
      }

      h1 {
        font-family: "Pacifico", cursive;
        color: #e91e63;
        font-size: 2.5rem;
        margin-bottom: 1.5rem;
        animation: pulse 2s ease-in-out infinite;
      }

      @keyframes pulse {
        0%,
        100% {
          transform: scale(1);
        }
        50% {
          transform: scale(1.05);
        }
      }

      .heart-image {
        font-size: 8rem;
        margin: 1rem 0;
        animation: float 3s ease-in-out infinite;
      }

      @keyframes float {
        0%,
        100% {
          transform: translateY(0);
        }
        50% {
          transform: translateY(-20px);
        }
      }

      p {
        font-size: 1.2rem;
        color: #555;
        margin-bottom: 2rem;
        font-weight: 300;
      }

      .button-container {
        display: flex;
        flex-direction: column;
        gap: 1.5rem;
        align-items: center;
        margin-top: 2rem;
        position: relative;
        height: 150px;
        width: 100%;
      }

      button {
        padding: 1rem 2.5rem;
        font-size: 1.2rem;
        font-weight: 600;
        border: none;
        border-radius: 50px;
        cursor: pointer;
        transition: all 0.3s ease;
        font-family: "Poppins", sans-serif;
        box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);
        position: relative;
      }

      #yesBtn {
        background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);
        color: white;
        transform-origin: center;
        font-size: 2rem;
      }

      #yesBtn:hover {
        box-shadow: 0 8px 25px rgba(245, 87, 108, 0.4);
      }

      #noBtn {
        background: #e0e0e0;
        color: #666;
        position: static;
        transition: all 0.2s ease;
        min-width: 70px;
      }

      .hidden {
        display: none;
      }

      .celebration {
        text-align: center;
        color: white;
      }

      .celebration h1 {
        font-size: 3rem;
        color: white;
        text-shadow: 2px 2px 10px rgba(0, 0, 0, 0.3);
        margin-bottom: 1rem;
      }

      .celebration p {
        font-size: 1.5rem;
        color: white;
        font-weight: 400;
      }

      .heart {
        position: fixed;
        font-size: 2rem;
        pointer-events: none;
        animation: floatUp 3s ease-out forwards;
        opacity: 0;
      }

      @keyframes floatUp {
        0% {
          opacity: 1;
          transform: translateY(0) rotate(0deg);
        }
        100% {
          opacity: 0;
          transform: translateY(-100vh) rotate(360deg);
        }
      }

      .confetti {
        position: fixed;
        width: 10px;
        height: 10px;
        pointer-events: none;
        animation: confettiFall 3s ease-out forwards;
      }

      @keyframes confettiFall {
        0% {
          opacity: 1;
          transform: translateY(-10vh) rotate(0deg);
        }
        100% {
          opacity: 0;
          transform: translateY(100vh) rotate(720deg);
        }
      }

      .particle {
        position: fixed;
        pointer-events: none;
        border-radius: 50%;
        animation: particleFloat 4s ease-out forwards;
      }

      @keyframes particleFloat {
        0% {
          opacity: 1;
          transform: translate(0, 0) scale(0);
        }
        50% {
          opacity: 1;
          transform: translate(var(--tx), var(--ty)) scale(1);
        }
        100% {
          opacity: 0;
          transform: translate(calc(var(--tx) * 2), calc(var(--ty) * 2))
            scale(0.5);
        }
      }

      .sparkle {
        position: fixed;
        pointer-events: none;
        font-size: 1rem;
        animation: sparkleFloat 2s ease-out forwards;
      }

      @keyframes sparkleFloat {
        0% {
          opacity: 1;
          transform: translateY(0) scale(0);
        }
        50% {
          transform: translateY(-50px) scale(1);
        }
        100% {
          opacity: 0;
          transform: translateY(-100px) scale(0);
        }
      }

      .continuous-heart {
        position: fixed;
        font-size: 1.5rem;
        pointer-events: none;
        animation: continuousFloat 8s ease-out forwards;
        opacity: 0;
      }

      @keyframes continuousFloat {
        0% {
          opacity: 0.8;
          transform: translateY(0) translateX(0) rotate(0deg) scale(1);
        }
        50% {
          opacity: 1;
          transform: translateY(-50vh) translateX(var(--drift)) rotate(180deg)
            scale(1.2);
        }
        100% {
          opacity: 0;
          transform: translateY(-100vh) translateX(calc(var(--drift) * 1.5))
            rotate(360deg) scale(0.5);
        }
      }

      .petal {
        position: fixed;
        pointer-events: none;
        font-size: 1.2rem;
        animation: petalFall 10s ease-in forwards;
        opacity: 0;
      }

      @keyframes petalFall {
        0% {
          opacity: 0.9;
          transform: translateY(-20px) translateX(0) rotate(0deg);
        }
        100% {
          opacity: 0;
          transform: translateY(100vh) translateX(var(--sway)) rotate(720deg);
        }
      }

      .twinkle-star {
        position: fixed;
        pointer-events: none;
        font-size: 1rem;
        animation: starTwinkle 2s ease-in-out;
        opacity: 0;
      }

      @keyframes starTwinkle {
        0%,
        100% {
          opacity: 0;
          transform: scale(0);
        }
        50% {
          opacity: 1;
          transform: scale(1.5);
        }
      }

      .celebration h1 {
        animation: textGlow 2s ease-in-out infinite;
      }

      @keyframes textGlow {
        0%,
        100% {
          text-shadow: 2px 2px 10px rgba(0, 0, 0, 0.3);
        }
        50% {
          text-shadow:
            0 0 20px rgba(255, 105, 180, 0.8),
            0 0 30px rgba(255, 192, 203, 0.6),
            2px 2px 10px rgba(0, 0, 0, 0.3);
        }
      }

      .music-toggle {
        display: flex;
        align-items: center;
        justify-content: center;
        position: fixed;
        bottom: 20px;
        right: 20px;
        background: rgba(255, 255, 255, 0.9);
        border: none;
        border-radius: 50%;
        width: 60px;
        height: 60px;
        font-size: 1.5rem;
        cursor: pointer;
        box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);
        transition: all 0.3s ease;
        z-index: 1000;
      }

      .music-toggle:hover {
        transform: scale(1.1);
        box-shadow: 0 8px 20px rgba(0, 0, 0, 0.3);
      }

      .music-toggle.playing {
        animation: musicPulse 1s ease-in-out infinite;
      }

      @keyframes musicPulse {
        0%,
        100% {
          transform: scale(1);
        }
        50% {
          transform: scale(1.05);
        }
      }

      .response-bubble {
        position: fixed;
        background: rgba(255, 255, 255, 0.98);
        padding: 1.2rem 1.8rem;
        border-radius: 25px;
        box-shadow: 0 10px 40px rgba(0, 0, 0, 0.25);
        font-size: 1.1rem;
        color: #e91e63;
        font-weight: 500;
        pointer-events: none;
        z-index: 1000;
        opacity: 0;
        transform: scale(0.3) translateY(20px);
        transition: all 0.8s cubic-bezier(0.34, 1.56, 0.64, 1);
        max-width: 280px;
        text-align: center;
        line-height: 1.5;
      }

      .response-bubble.show {
        opacity: 1;
        transform: scale(1) translateY(0);
      }

      .response-bubble.hide {
        opacity: 0;
        transform: scale(0.3) translateY(-20px);
        transition: all 0.6s cubic-bezier(0.55, 0.085, 0.68, 0.53);
      }

      .response-bubble::before {
        content: "";
        position: absolute;
        bottom: -10px;
        left: 50%;
        transform: translateX(-50%);
        width: 0;
        height: 0;
        border-left: 12px solid transparent;
        border-right: 12px solid transparent;
        border-top: 12px solid rgba(255, 255, 255, 0.98);
        filter: drop-shadow(0 3px 5px rgba(0, 0, 0, 0.1));
      }

      .cats-container {
        display: flex;
        justify-content: center;
        align-items: center;
        gap: 2rem;
        margin-top: 2rem;
        flex-wrap: wrap;
        opacity: 0;
        transform: translateY(30px);
        animation: fadeInCats 1.2s ease-out 0.5s forwards;
      }

      @keyframes fadeInCats {
        to {
          opacity: 1;
          transform: translateY(0);
        }
      }

      .cat-image {
        width: 200px;
        height: 200px;
        object-fit: cover;
        border-radius: 20px;
        box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);
        border: 5px solid rgba(255, 255, 255, 0.9);
        animation: catBounce 2s ease-in-out infinite;
      }

      .cat-image:nth-child(1) {
        animation-delay: 0s;
      }

      .cat-image:nth-child(2) {
        animation-delay: 0.3s;
      }

      @keyframes catBounce {
        0%,
        100% {
          transform: translateY(0) rotate(0deg);
        }
        50% {
          transform: translateY(-15px) rotate(2deg);
        }
      }

      @media (max-width: 600px) {
        h1 {
          font-size: 2rem;
        }

        .heart-image {
          font-size: 5rem;
        }

        button {
          padding: 0.8rem 1.5rem;
          font-size: 1rem;
        }

        .button-container {
          gap: 2rem;
        }

        #noBtn {
          right: 10%;
        }

        .response-bubble {
          font-size: 1rem;
          padding: 1rem 1.5rem;
          max-width: 220px;
        }

        .cat-image {
          width: 150px;
          height: 150px;
        }

        .cats-container {
          gap: 1rem;
        }
      }
    </style>
  </head>
  <body>
    <div class="container" id="questionContainer">
      <h1>Will You Be My Valentine?</h1>
      <div class="heart-image">üíñ</div>
      <p>I promise to make every day as sweet as this moment!</p>
      <div class="button-container">
        <button id="yesBtn">Yes! üíï</button>
        <button id="noBtn">No</button>
      </div>
    </div>

    <div class="celebration hidden" id="celebration">
      <h1>Yay! You made my day! üíï</h1>
      <p>I'm the luckiest person in the world!</p>
      <div class="heart-image">üíù</div>
      <div class="cats-container">
        <img src="cat-valentine-1.jpg" alt="Cute cat" class="cat-image" />
        <img src="cat-valentine-2.jpg" alt="Cute cat" class="cat-image" />
      </div>
    </div>

    <button class="music-toggle" id="musicToggle">üéµ</button>
    <audio id="bgMusic" loop preload="auto">
      <source src="Lana Del Rey - Yes To Heaven.mp3" type="audio/mpeg" />
      Your browser does not support the audio element.
    </audio>

    <script>
      const yesBtn = document.getElementById("yesBtn");
      const noBtn = document.getElementById("noBtn");
      const questionContainer = document.getElementById("questionContainer");
      const celebration = document.getElementById("celebration");
      const buttonContainer = document.querySelector(".button-container");
      const musicToggle = document.getElementById("musicToggle");
      const bgMusic = document.getElementById("bgMusic");

      let isMusicPlaying = false;
      let continuousAnimationsRunning = false;
      let animationIntervals = [];
      let noClickCount = 0;
      let currentBubble = null;
      let bubbleTimeout = null;

      const responses = [
        "Wrong answer. Think again",
        "Wrong again. Choose the correct answer",
        "No, babe! Think again.",
      ];

      // Set initial volume
      bgMusic.volume = 0.7;

      // Initialize No button position on the right of Yes button
      function initNoButtonPosition() {
        const yesRect = yesBtn.getBoundingClientRect();
        const btnWidth = noBtn.offsetWidth;

        // Position to the right of the Yes button with some spacing
        const leftPos = yesRect.right + 60;
        const topPos = yesRect.top;

        noBtn.style.left = `${leftPos}px`;
        noBtn.style.top = `${topPos}px`;
      }

      // Call on load and resize
      window.addEventListener("load", initNoButtonPosition);
      window.addEventListener("resize", initNoButtonPosition);

      // Track mouse movement for button interactions
      document.addEventListener("mousemove", (e) => {
        // Get button positions
        const yesRect = yesBtn.getBoundingClientRect();
        const noRect = noBtn.getBoundingClientRect();

        // Calculate center points
        const yesCenterX = yesRect.left + yesRect.width / 2;
        const yesCenterY = yesRect.top + yesRect.height / 2;
        const noCenterX = noRect.left + noRect.width / 2;
        const noCenterY = noRect.top + noRect.height / 2;

        // Calculate distances
        const yesDistance = Math.sqrt(
          Math.pow(e.clientX - yesCenterX, 2) +
            Math.pow(e.clientY - yesCenterY, 2),
        );
        const noDistance = Math.sqrt(
          Math.pow(e.clientX - noCenterX, 2) +
            Math.pow(e.clientY - noCenterY, 2),
        );

        // Yes button enlarges when cursor is close
        const yesThreshold = 150;
        if (yesDistance < yesThreshold) {
          const scale = 1 + ((yesThreshold - yesDistance) / yesThreshold) * 0.5;
          yesBtn.style.transform = `scale(${Math.min(scale, 1.5)})`;
        } else {
          yesBtn.style.transform = "scale(1)";
        }

        // No button runs away when cursor is close
        const noThreshold = 100;
        if (noDistance < noThreshold) {
          moveNoButton();
        }
      });

      function moveNoButton() {
        const containerRect = buttonContainer.getBoundingClientRect();
        const viewportWidth = window.innerWidth;
        const viewportHeight = window.innerHeight;
        const btnWidth = noBtn.offsetWidth;
        const btnHeight = noBtn.offsetHeight;

        // Generate random position within viewport
        let newLeft = Math.random() * (viewportWidth - btnWidth - 40) + 20;
        let newTop = Math.random() * (viewportHeight - btnHeight - 40) + 20;

        // Ensure it's not too close to yes button
        const yesRect = yesBtn.getBoundingClientRect();
        const yesCenterX = yesRect.left + yesRect.width / 2;
        const yesCenterY = yesRect.top + yesRect.height / 2;

        const distance = Math.sqrt(
          Math.pow(newLeft + btnWidth / 2 - yesCenterX, 2) +
            Math.pow(newTop + btnHeight / 2 - yesCenterY, 2),
        );

        // If too close to yes button, move to a far position
        if (distance < 180) {
          if (newLeft < yesCenterX) {
            newLeft = Math.max(20, yesCenterX - 300);
          } else {
            newLeft = Math.min(viewportWidth - btnWidth - 20, yesCenterX + 200);
          }
        }

        // Use fixed positioning
        noBtn.style.position = "fixed";
        noBtn.style.left = `${newLeft}px`;
        noBtn.style.top = `${newTop}px`;
        noBtn.style.right = "auto";
        noBtn.style.transform = "none";
      }

      // Music toggle handler
      musicToggle.addEventListener("click", () => {
        if (isMusicPlaying) {
          bgMusic.pause();
          musicToggle.textContent = "üéµ";
          musicToggle.classList.remove("playing");
          isMusicPlaying = false;
        } else {
          bgMusic
            .play()
            .then(() => {
              musicToggle.textContent = "üé∂";
              musicToggle.classList.add("playing");
              isMusicPlaying = true;
            })
            .catch((error) => {
              console.log("Music play failed:", error);
              alert("Please allow audio to play for the full experience! üéµ");
            });
        }
      });

      // Yes button click handler
      yesBtn.addEventListener("click", () => {
        // Start music if not playing
        if (!isMusicPlaying) {
          bgMusic
            .play()
            .then(() => {
              musicToggle.textContent = "üé∂";
              musicToggle.classList.add("playing");
              isMusicPlaying = true;
            })
            .catch((error) => {
              console.log("Music play failed:", error);
            });
        }

        // Hide question
        questionContainer.classList.add("hidden");

        // Show celebration
        celebration.classList.remove("hidden");

        // Create floating hearts
        createHearts();

        // Create confetti
        createConfetti();

        // Create particle burst
        createParticleBurst();

        // Create sparkles
        createSparkles();

        // Start continuous animations
        if (!continuousAnimationsRunning) {
          startContinuousAnimations();
        }
      });

      function createHearts() {
        const colors = ["‚ù§Ô∏è", "üíï", "üíñ", "üíó", "üíì", "üíù"];

        for (let i = 0; i < 30; i++) {
          setTimeout(() => {
            const heart = document.createElement("div");
            heart.className = "heart";
            heart.textContent =
              colors[Math.floor(Math.random() * colors.length)];
            heart.style.left = Math.random() * window.innerWidth + "px";
            heart.style.bottom = "-50px";
            heart.style.animationDelay = Math.random() * 0.5 + "s";
            heart.style.fontSize = Math.random() * 2 + 1 + "rem";
            document.body.appendChild(heart);

            // Remove after animation
            setTimeout(() => heart.remove(), 3000);
          }, i * 100);
        }
      }

      function createConfetti() {
        const colors = [
          "#f093fb",
          "#f5576c",
          "#4facfe",
          "#00f2fe",
          "#ffd89b",
          "#19d4ca",
        ];

        for (let i = 0; i < 50; i++) {
          setTimeout(() => {
            const confetti = document.createElement("div");
            confetti.className = "confetti";
            confetti.style.left = Math.random() * window.innerWidth + "px";
            confetti.style.top = "-10px";
            confetti.style.backgroundColor =
              colors[Math.floor(Math.random() * colors.length)];
            confetti.style.animationDelay = Math.random() * 0.3 + "s";
            document.body.appendChild(confetti);

            // Remove after animation
            setTimeout(() => confetti.remove(), 3000);
          }, i * 50);
        }
      }

      // Show response bubble near No button
      function showResponseBubble() {
        // Remove existing bubble if any
        if (currentBubble) {
          currentBubble.classList.add("hide");
          setTimeout(() => {
            if (currentBubble && currentBubble.parentNode) {
              currentBubble.remove();
            }
          }, 600);
        }

        // Clear existing timeout
        if (bubbleTimeout) {
          clearTimeout(bubbleTimeout);
        }

        // Create new bubble
        const bubble = document.createElement("div");
        bubble.className = "response-bubble";
        bubble.textContent = responses[noClickCount % responses.length];

        // Position bubble above the No button
        const noRect = noBtn.getBoundingClientRect();
        bubble.style.left = noRect.left + noRect.width / 2 + "px";
        bubble.style.top = noRect.top - 80 + "px";
        bubble.style.transform = "translateX(-50%) scale(0.3) translateY(20px)";

        document.body.appendChild(bubble);
        currentBubble = bubble;

        // Trigger animation
        setTimeout(() => {
          bubble.classList.add("show");
        }, 10);

        // Hide after 2.5 seconds with smooth fade out
        bubbleTimeout = setTimeout(() => {
          bubble.classList.remove("show");
          bubble.classList.add("hide");
          setTimeout(() => {
            if (bubble.parentNode) {
              bubble.remove();
            }
            if (currentBubble === bubble) {
              currentBubble = null;
            }
          }, 600);
        }, 2500);

        noClickCount++;
      }

      // Prevent No button from being clicked (just for fun)
      noBtn.addEventListener("click", (e) => {
        e.preventDefault();
        showResponseBubble();
        moveNoButton();
      });

      function createParticleBurst() {
        const centerX = window.innerWidth / 2;
        const centerY = window.innerHeight / 2;
        const colors = [
          "#ff6b9d",
          "#feca57",
          "#48dbfb",
          "#ff9ff3",
          "#54a0ff",
          "#ee5a6f",
        ];

        for (let i = 0; i < 40; i++) {
          setTimeout(() => {
            const particle = document.createElement("div");
            particle.className = "particle";

            const size = Math.random() * 15 + 5;
            particle.style.width = size + "px";
            particle.style.height = size + "px";
            particle.style.backgroundColor =
              colors[Math.floor(Math.random() * colors.length)];
            particle.style.left = centerX + "px";
            particle.style.top = centerY + "px";

            const angle = (Math.PI * 2 * i) / 40;
            const velocity = Math.random() * 200 + 100;
            const tx = Math.cos(angle) * velocity;
            const ty = Math.sin(angle) * velocity;

            particle.style.setProperty("--tx", tx + "px");
            particle.style.setProperty("--ty", ty + "px");

            document.body.appendChild(particle);

            setTimeout(() => particle.remove(), 4000);
          }, i * 20);
        }
      }

      function createSparkles() {
        const sparkleChars = ["‚ú®", "‚≠ê", "üåü", "üí´", "‚ö°"];

        for (let i = 0; i < 25; i++) {
          setTimeout(() => {
            const sparkle = document.createElement("div");
            sparkle.className = "sparkle";
            sparkle.textContent =
              sparkleChars[Math.floor(Math.random() * sparkleChars.length)];
            sparkle.style.left = Math.random() * window.innerWidth + "px";
            sparkle.style.top =
              window.innerHeight * 0.3 +
              Math.random() * window.innerHeight * 0.4 +
              "px";
            sparkle.style.fontSize = Math.random() * 1.5 + 0.5 + "rem";

            document.body.appendChild(sparkle);

            setTimeout(() => sparkle.remove(), 2000);
          }, i * 80);
        }
      }

      function startContinuousAnimations() {
        continuousAnimationsRunning = true;

        // Continuous floating hearts - every 1 second
        const heartInterval = setInterval(() => {
          if (!continuousAnimationsRunning) {
            clearInterval(heartInterval);
            return;
          }
          createContinuousHeart();
        }, 1000);
        animationIntervals.push(heartInterval);

        // Falling petals - every 1.5 seconds
        const petalInterval = setInterval(() => {
          if (!continuousAnimationsRunning) {
            clearInterval(petalInterval);
            return;
          }
          createPetal();
        }, 1500);
        animationIntervals.push(petalInterval);

        // Twinkling stars - every 2 seconds
        const starInterval = setInterval(() => {
          if (!continuousAnimationsRunning) {
            clearInterval(starInterval);
            return;
          }
          createTwinkleStar();
        }, 2000);
        animationIntervals.push(starInterval);
      }

      function createContinuousHeart() {
        const hearts = ["üíï", "üíñ", "üíó", "üíì", "üíù", "‚ù§Ô∏è", "üíû"];
        const heart = document.createElement("div");
        heart.className = "continuous-heart";
        heart.textContent = hearts[Math.floor(Math.random() * hearts.length)];

        // Start from random position at bottom
        const startX = Math.random() * window.innerWidth;
        heart.style.left = startX + "px";
        heart.style.bottom = "-50px";

        // Random drift amount
        const drift = (Math.random() - 0.5) * 200;
        heart.style.setProperty("--drift", drift + "px");

        // Random size
        heart.style.fontSize = Math.random() * 1.5 + 1 + "rem";

        document.body.appendChild(heart);

        setTimeout(() => heart.remove(), 8000);
      }

      function createPetal() {
        const petals = ["üå∏", "üå∫", "üåπ", "üíÆ"];
        const petal = document.createElement("div");
        petal.className = "petal";
        petal.textContent = petals[Math.floor(Math.random() * petals.length)];

        // Start from random position at top
        const startX = Math.random() * window.innerWidth;
        petal.style.left = startX + "px";
        petal.style.top = "-50px";

        // Random sway amount
        const sway = (Math.random() - 0.5) * 300;
        petal.style.setProperty("--sway", sway + "px");

        // Random size
        petal.style.fontSize = Math.random() * 1 + 0.8 + "rem";

        document.body.appendChild(petal);

        setTimeout(() => petal.remove(), 10000);
      }

      function createTwinkleStar() {
        const stars = ["‚ú®", "‚≠ê", "üåü", "üí´"];
        const star = document.createElement("div");
        star.className = "twinkle-star";
        star.textContent = stars[Math.floor(Math.random() * stars.length)];

        // Random position anywhere on screen
        star.style.left = Math.random() * window.innerWidth + "px";
        star.style.top = Math.random() * window.innerHeight + "px";

        // Random size
        star.style.fontSize = Math.random() * 1.5 + 0.5 + "rem";

        document.body.appendChild(star);

        setTimeout(() => star.remove(), 2000);
      }

      // Stop continuous animations when music is paused
      bgMusic.addEventListener("pause", () => {
        continuousAnimationsRunning = false;
        animationIntervals.forEach((interval) => clearInterval(interval));
        animationIntervals = [];
      });

      // Resume continuous animations when music plays (if celebration is shown)
      bgMusic.addEventListener("play", () => {
        if (
          !celebration.classList.contains("hidden") &&
          !continuousAnimationsRunning
        ) {
          startContinuousAnimations();
        }
      });
    </script>
  </body>
</html>
